{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGallery = imgInfo => {\n  return `<li class=\"gallery-card\">\n        <a href=\"${imgInfo.largeImageURL}\" class=\"gallery-link\">\n            <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n            </a>\n             <div class=\"gallery-info\">\n              <p><strong>Likes:</strong> ${imgInfo.likes}</p>\n              <p><strong>Views:</strong> ${imgInfo.views}</p>\n              <p><strong>Comments:</strong> ${imgInfo.comments}</p>\n              <p><strong>Downloads:</strong> ${imgInfo.downloads}</p>\n            </div>\n          </li>`;\n};\n","export const fetchPhotoByQuery = searchedQuery => {\n  return fetch(\n    `https://pixabay.com/api/?key=46917062-2aeb1fc3b978e5a238a42f10e&q=${searchedQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import { createGallery } from './js/render-functions';\nimport { fetchPhotoByQuery } from './js/pixabay-api';\n\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 50,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n  if (searchedQuery === '') {\n    iziToast.show({ message: `the field must be filled!` });\n    return;\n  }\n  loader.style.display = 'flex';\n  fetchPhotoByQuery(searchedQuery)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.show({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n        });\n        gallery.innerHTML = '';\n        searchForm.reset();\n        return;\n      }\n      const galleryTemplate = data.hits.map(el => createGallery(el)).join('');\n      gallery.innerHTML = galleryTemplate;\n      lightbox.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n};\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGallery","imgInfo","fetchPhotoByQuery","searchedQuery","response","searchForm","gallery","lightbox","SimpleLightbox","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","err"],"mappings":"6vBAAO,MAAMA,EAAgBC,GACpB;AAAA,mBACUA,EAAQ,aAAa;AAAA,4CACIA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,2CAG3CA,EAAQ,KAAK;AAAA,2CACbA,EAAQ,KAAK;AAAA,8CACVA,EAAQ,QAAQ;AAAA,+CACfA,EAAQ,SAAS;AAAA;AAAA,iBCTnDC,EAAoBC,GACxB,MACL,qEAAqEA,CAAa,0DACtF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECEGC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAU,SAAS,cAAc,aAAa,EAE9CC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,EAChB,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMP,EAAgBO,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpE,GAAIP,IAAkB,GAAI,CACxBQ,EAAS,KAAK,CAAE,QAAS,2BAA6B,CAAA,EACtD,MACD,CACD,OAAO,MAAM,QAAU,OACvBT,EAAkBC,CAAa,EAC5B,KAAKS,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,KAAK,CACZ,QAAS,0EACnB,CAAS,EACDL,EAAQ,UAAY,GACpBD,EAAW,MAAK,EAChB,MACD,CACD,MAAMQ,EAAkBD,EAAK,KAAK,IAAIE,GAAMd,EAAcc,CAAE,CAAC,EAAE,KAAK,EAAE,EACtER,EAAQ,UAAYO,EACpBN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACb,OAAO,MAAM,QAAU,MAC7B,CAAK,CACL,EAEAV,EAAW,iBAAiB,SAAUI,CAAkB"}